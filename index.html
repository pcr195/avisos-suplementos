<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>Recordatorio de Suplementos</title>
  <style>
    body { font-family: Arial, sans-serif; padding: 10px; }
    label { display:block; margin-top:8px; }
    input, select, button { width: 100%; padding: 6px; margin-top:4px; }
    .item { border:1px solid #ccc; padding:6px; margin-top:6px; font-size:14px; }
  </style>
</head>
<body>
  <h2>Mis suplementos</h2>

  <!-- Formulario para aÃ±adir suplemento -->
  <label>Nombre del suplemento</label>
  <input type="text" id="nombre" placeholder="Ej: Magnesio 400 mg">

  <label>Hora (24h)</label>
  <input type="time" id="hora">

  <button onclick="agregarSuplemento()">Guardar suplemento</button>

  <h3>Lista programada</h3>
  <div id="lista"></div>

  <script>
    // Cargar suplementos guardados
    let suplementos = JSON.parse(localStorage.getItem('suplementos') || '[]');
    mostrarLista();

    function agregarSuplemento() {
      const nombre = document.getElementById('nombre').value.trim();
      const hora   = document.getElementById('hora').value;

      if (!nombre || !hora) {
        alert('Rellena nombre y hora');
        return;
      }

      suplementos.push({ nombre, hora });
      localStorage.setItem('suplementos', JSON.stringify(suplementos));
      mostrarLista();
      document.getElementById('nombre').value = '';
    }

    function borrarSuplemento(i) {
      suplementos.splice(i, 1);
      localStorage.setItem('suplementos', JSON.stringify(suplementos));
      mostrarLista();
    }

    function mostrarLista() {
      const cont = document.getElementById('lista');
      cont.innerHTML = '';
      suplementos.forEach((s, i) => {
        const div = document.createElement('div');
        div.className = 'item';
        div.innerHTML =
          '<b>' + s.nombre + '</b><br>Hora: ' + s.hora +
          '<br><button onclick="borrarSuplemento(' + i + ')">Eliminar</button>';
        cont.appendChild(div);
      });
    }

    // Comprobar cada minuto si coincide la hora
    setInterval(() => {
      const ahora = new Date();
      const hh = String(ahora.getHours()).padStart(2, '0');
      const mm = String(ahora.getMinutes()).padStart(2, '0');
      const horaActual = hh + ':' + mm;

      suplementos.forEach(s => {
        if (s.hora === horaActual) {
          alert('Es hora de tomar: ' + s.nombre);
        }
      });
    }, 60000); // 60000 ms = 1 minuto
  </script>
</body>
</html>
